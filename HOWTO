Compile:
mvn install

# requrie Java1.8
# install: $sudo apt install openjdk-8-jdk
# switch default Java: $sudo update-alternatives --config java


Run locally:
rm -r /tmp/cobra /tmp/rocksdb
mkdir -p /tmp/cobra/log
mkdir /tmp/rocksdb
java -ea -jar target/txnTest-1-jar-with-dependencies.jar local




Tapir:

mvn install:install-file -Dfile=./include/tapir.jar -DgroupId=tapir\
   -DartifactId=tapir -Dversion=1.4.0 -Dpackaging=jar -DgeneratePom=true

java -ea -Djava.library.path=include -jar target/txnTest-1-jar-with-dependencies.jar local



Cockroach DB:

1. install db (from binary is fine for now)

  -- tutorial:
  https://www.cockroachlabs.com/docs/stable/install-cockroachdb-linux.html

2. start a local cluster

  -- start three nodes as in the tutorial, because we hard coded those three
  ports (localhost:26257/26258/26259) in our code

  -- tutorial:
  https://www.cockroachlabs.com/docs/stable/start-a-local-cluster.html


3. create a database user and database

  -- in the following, pls use username "maxroach" and database name "cobra"
  which are hard coded in the code

  # connect to the sql server
  $ cockroach sql --insecure --host=localhost:26257

  # below within the sql shell
  > CREATE USER IF NOT EXISTS maxroach;
  > CREATE DATABASE cobra;
  > GRANT ALL ON DATABASE cobra TO maxroach;

4. config config.yam

  -- update/insert following pairs:

    LIB_TYPE: 6
    COCKROACH_DB_URL : "localhost"
    COCKROACH_PASSWORD : ""
    COCKROACH_USERNAME : "maxroach"

5. compile & run

  $ mvn install
  $ java -ea -jar target/txnTest-1-jar-with-dependencies.jar local


Make cobra lib a local repo:

mvn install:install-file -Dfile=./target/txnTest-1-jar-with-dependencies.jar -DgroupId=cobralib\
   -DartifactId=cobralib -Dversion=1.0.0 -Dpackaging=jar -DgeneratePom=true
